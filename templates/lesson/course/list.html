{% include "base.html" with page_title='Курсы' %}

<style>
.course__container {
    display: flex;
    justify-content: space-between; /* Располагает дочерние элементы на противоположных концах */
    align-items: center;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-bottom: 10px;
    background-color: #f8f9fa;
}

.course__info-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: inherit;
    flex-grow: 1; /* Заполняет все доступное пространство, кроме пространства для иконок */
}

.edit-delete-icons {
    margin-left: auto; /* Автоматический отступ слева толкает элементы вправо */
    display: flex;
    justify-content: right;
    gap: 10px;
}

.edit-delete-icons a {
    padding: 5px 10px;
    background-color: #007bff;
    color: white;
    border-radius: 4px;
    text-decoration: none;
}

.create-icons a {
    padding: 5px 10px;
    background-color: #007bff;
    color: white;
    border-radius: 4px;
    text-decoration: none;
}

.edit-delete-icons a:hover {
    background-color: #0056b3;
}
.create-icons a:hover {
    background-color: #0056b3;
}

</style>
{% block container %}
    <div class="container mt-4">

        {% if user_can_create_course %}
            <div class="create-icons">
                <a href="{% url 'course-create' %}" class="add-button">Добавить курс</a>
            </div>
        {% endif %}

{#    {% load render_table from django_tables2 %} {% render_table table %}#}
        <div class="courses__list">
            <div class="containter">
            {% for row in course_list %}
                {% if user.is_superuser or row.user_can_edit %}
                <div class="edit-delete-icons">
                    <a href="{% url 'course-update' row.id %}">&#9997;</a>
                    <a href="{% url 'course-delete' row.id %}" onclick="return confirm('Точно хотите удалить?')">&#10060;</a>
                </div>
                {% endif %}
                <a href="{% url 'course-detail' pk=row.id %}" class="course__item">
                    <div class="course__info">
                        {% if row.image %}
                        <img class="course__img" src="{{ row.image.url }}" alt="">
                        {% else %}
                        <img class="course__img" src="https://cdn.stepik.net/media/cache/images/courses/113714/cover_IgSEHwD/dd4fc60d221af004f8e5e9e64382c46d.png" alt="">
                        {% endif %}
                        <div class="course__name">
                            <h3 class="course__title text-h2">{{ row.name }}</h3>
                            <p class="course__autor text-p">{{ row.author }}</p>
                            {% autoescape off %}
                                <p class="course__desc text-p">Продолжение следует...</p>
                            {% endautoescape on %}
                        </div>

                        <div class="course-down-content">
                            <div class="review-icons">
                                        &#9733 &#9733 &#9733 &#9733 &#9733
                            </div>
                            <div class="course__time">
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_401_427)">
                                            <path d="M9.99935 1.6665C14.6018 1.6665 18.3327 5.39734 18.3327 9.99984C18.3327 14.6023 14.6018 18.3332 9.99935 18.3332C5.39685 18.3332 1.66602 14.6023 1.66602 9.99984C1.66602 5.39734 5.39685 1.6665 9.99935 1.6665ZM9.99935 3.33317C8.23124 3.33317 6.53555 4.03555 5.2853 5.28579C4.03506 6.53603 3.33268 8.23173 3.33268 9.99984C3.33268 11.7679 4.03506 13.4636 5.2853 14.7139C6.53555 15.9641 8.23124 16.6665 9.99935 16.6665C11.7675 16.6665 13.4632 15.9641 14.7134 14.7139C15.9636 13.4636 16.666 11.7679 16.666 9.99984C16.666 8.23173 15.9636 6.53603 14.7134 5.28579C13.4632 4.03555 11.7675 3.33317 9.99935 3.33317ZM9.99935 4.99984C10.2035 4.99986 10.4005 5.0748 10.553 5.21043C10.7055 5.34607 10.803 5.53296 10.8268 5.73567L10.8327 5.83317V9.65484L13.0885 11.9107C13.238 12.0606 13.3247 12.2619 13.3312 12.4735C13.3377 12.6851 13.2633 12.8913 13.1233 13.0501C12.9833 13.2089 12.7881 13.3084 12.5773 13.3285C12.3665 13.3486 12.156 13.2877 11.9885 13.1582L11.9102 13.089L9.41018 10.589C9.28066 10.4594 9.19748 10.2907 9.17352 10.109L9.16602 9.99984V5.83317C9.16602 5.61216 9.25381 5.4002 9.41009 5.24391C9.56637 5.08763 9.77834 4.99984 9.99935 4.99984Z" fill="#5F6982"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_401_427">
                                            <rect width="20" height="20" fill="white"/>
                                            </clipPath>
                                            </defs>
                                            </svg>
                                        <p class="text-p" style="color: var(--grey-color);">11ч</p>
                            </div>
                            <p class="course__btn header-link">Пройти курс</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
            </div>
        </div>
        {% if can_edit %}
        {% endif %}




    </div>

{% endblock %}
